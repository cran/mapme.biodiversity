<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Quickstart</title>

<script src="data:application/javascript;base64,Ly8gUGFuZG9jIDIuOSBhZGRzIGF0dHJpYnV0ZXMgb24gYm90aCBoZWFkZXIgYW5kIGRpdi4gV2UgcmVtb3ZlIHRoZSBmb3JtZXIgKHRvCi8vIGJlIGNvbXBhdGlibGUgd2l0aCB0aGUgYmVoYXZpb3Igb2YgUGFuZG9jIDwgMi44KS4KZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKGUpIHsKICB2YXIgaHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJkaXYuc2VjdGlvbltjbGFzcyo9J2xldmVsJ10gPiA6Zmlyc3QtY2hpbGQiKTsKICB2YXIgaSwgaCwgYTsKICBmb3IgKGkgPSAwOyBpIDwgaHMubGVuZ3RoOyBpKyspIHsKICAgIGggPSBoc1tpXTsKICAgIGlmICghL15oWzEtNl0kL2kudGVzdChoLnRhZ05hbWUpKSBjb250aW51ZTsgIC8vIGl0IHNob3VsZCBiZSBhIGhlYWRlciBoMS1oNgogICAgYSA9IGguYXR0cmlidXRlczsKICAgIHdoaWxlIChhLmxlbmd0aCA+IDApIGgucmVtb3ZlQXR0cmlidXRlKGFbMF0ubmFtZSk7CiAgfQp9KTsK"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<link rel="stylesheet" href="data:text/css,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" type="text/css" />




</head>

<body>




<h1 class="title toc-ignore">Quickstart</h1>



<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>In the following we will demonstrate an idealized workflow based on a subset of the CHIRPS dataset that is delivered together with this package. You can follow along the code snippets below to reproduce the results. Please note, that to reduce the time it takes to process this vignette, we will not download any resources from the internet. In a real use case, thus processing time might substantially increase because resources have to be downloaded and real portfolios might be larger than the one created in this example.</p>
<p>This vignette assumes that you have already followed the steps in <a href="https://mapme-initiative.github.io/mapme.biodiversity/articles/installation.html">Installation</a> and have familiarized yourself with the terminology used in the package. If you are unfamiliar with the terminology used here, please head over to the <a href="https://mapme-initiative.github.io/mapme.biodiversity/articles/terminology.html">Terminology</a> article to learn about the most important concepts.</p>
<p>The idealized workflow for using <code>{mapme.biodiversity}</code> consists of the following steps:</p>
<ul>
<li>initialize your portfolio using an sf-object containing only geometries of type POLYGON</li>
<li>decide which indicator(s) you wish to calculate and download the required resource(s)</li>
<li>conduct your indicator calculation, which adds a nested list column to your portfolio object</li>
<li>continue your analysis in R or decide to export your results to a GeoPackage to use it with other geospatial software</li>
</ul>
</div>
<div id="getting-started" class="section level1">
<h1>Getting started</h1>
<p>First, we will load the <code>{mapme.biodiversity}</code> and the <code>{sf}</code> package for handling spatial vector data. For tabular data handling and the creation of a plot, we will also load the <code>{dplyr}</code> and <code>{ggplot2}</code> packages. Then, we will read an package internal GeoPackage which includes the geometry of a protected area in the Dominican Republic from the WDPA database.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mapme.biodiversity)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>aoi_path <span class="ot">&lt;-</span> <span class="fu">system.file</span>(<span class="st">&quot;extdata&quot;</span>, <span class="st">&quot;sierra_de_neiba_478140.gpkg&quot;</span>, <span class="at">package =</span> <span class="st">&quot;mapme.biodiversity&quot;</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>(aoi <span class="ot">&lt;-</span> <span class="fu">read_sf</span>(aoi_path))</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Simple feature collection with 1 feature and 4 fields</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Geometry type: MULTIPOLYGON</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Dimension:     XY</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Bounding box:  xmin: -71.80933 ymin: 18.57668 xmax: -71.33201 ymax: 18.69931</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 1 × 5</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   WDPAID NAME            DESIG_ENG     ISO3                                 geom</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;dbl&gt; &lt;chr&gt;           &lt;chr&gt;         &lt;chr&gt;                  &lt;MULTIPOLYGON [°]&gt;</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 478140 Sierra de Neiba National Park DOM   (((-71.76134 18.66333, -71.76067 1…</span></span></code></pre></div>
<p>The sf-object contains a single object of geometry type <code>MULTIPOLYGON</code>. The <code>{mapme.biodiversity}</code> package, however, only supports geometries of type <code>POLYGON</code>, thus we need to cast the geometry before we advance. The resulting sf object also contains some metadata, that will be retained throughout the complete workflow. Because some of the casted geometries represent artifacts of the digitization process, in this example we will subset to only the largest polygon.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>(aoi <span class="ot">&lt;-</span> <span class="fu">st_cast</span>(aoi, <span class="at">to =</span> <span class="st">&quot;POLYGON&quot;</span>)[<span class="dv">1</span>, ])</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning in st_cast.sf(aoi, to = &quot;POLYGON&quot;): repeating attributes for all sub-</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; geometries for which they may not be constant</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Simple feature collection with 1 feature and 4 fields</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Geometry type: POLYGON</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Dimension:     XY</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Bounding box:  xmin: -71.80933 ymin: 18.57668 xmax: -71.33201 ymax: 18.69931</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 1 × 5</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   WDPAID NAME            DESIG_ENG     ISO3                                 geom</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;dbl&gt; &lt;chr&gt;           &lt;chr&gt;         &lt;chr&gt;                       &lt;POLYGON [°]&gt;</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 478140 Sierra de Neiba National Park DOM   ((-71.76134 18.66333, -71.76067 18…</span></span></code></pre></div>
<p>In the following, we will simulate a portfolio consisting of several polygons (assets, in the jargon of this package). To this end, we create smaller polygons within the original extent of the main polygon. This way, we can showcase the behavior of the <code>{mapme.biodiversity}</code> package for portfolios that contain multiple assets. We will only select single assets with geometry type <code>POLYGON</code> that lie within the original boundary of the protected area.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>aoi_gridded <span class="ot">&lt;-</span> <span class="fu">st_make_grid</span>(</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">st_bbox</span>(aoi),</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">n =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">10</span>),</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">square =</span> <span class="cn">FALSE</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_intersection</span>(aoi) <span class="sc">%&gt;%</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_as_sf</span>() <span class="sc">%&gt;%</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">geom_type =</span> <span class="fu">st_geometry_type</span>(x)) <span class="sc">%&gt;%</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(geom_type <span class="sc">==</span> <span class="st">&quot;POLYGON&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>geom_type, <span class="at">geom =</span> x) <span class="sc">%&gt;%</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_as_sf</span>()</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>metanames <span class="ot">&lt;-</span> <span class="fu">names</span>(<span class="fu">st_drop_geometry</span>(aoi))</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>aoi_gridded[metanames] <span class="ot">&lt;-</span> <span class="fu">st_drop_geometry</span>(aoi)</span></code></pre></div>
</div>
<div id="initialization-of-a-portfolio" class="section level1">
<h1>Initialization of a portfolio</h1>
<p>Now, we are ready to initiate a portfolio object containing multiple assets. We use the <code>init_portfolio()</code> function and set some attributes that are important for the subsequent processing. The function will add a unique identifier column called <code>.assetid</code> that is used to uniquely identify each asset in the portfolio.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>sample_portfolio <span class="ot">&lt;-</span> <span class="fu">init_portfolio</span>(</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> aoi_gridded,</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">years =</span> <span class="dv">2010</span>,</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">outdir =</span> <span class="fu">system.file</span>(<span class="st">&quot;res&quot;</span>, <span class="at">package =</span> <span class="st">&quot;mapme.biodiversity&quot;</span>),</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">tmpdir =</span> <span class="fu">system.file</span>(<span class="st">&quot;tmp&quot;</span>, <span class="at">package =</span> <span class="st">&quot;mapme.biodiversity&quot;</span>),</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">add_resources =</span> <span class="cn">FALSE</span>,</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">cores =</span> <span class="dv">1</span>,</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">verbose =</span> <span class="cn">TRUE</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(sample_portfolio[<span class="st">&quot;.assetid&quot;</span>])</span></code></pre></div>
<p><img src="data:image/png;base64,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" width="120%" height="120%" /></p>
<p>The first argument, <code>x</code>, is the sf-object that we want to turn into a portfolio. The argument <code>years</code> allows us to restrict our analysis to certain years only. Certain resources with a temporal dimension are only processed for the portfolio’s temporal extent. All resource and indicator functions will inform the user if the portfolio’s temporal extents do not intersect. The <code>outdir</code> and <code>tmpdir</code> arguments point towards directories on the local file system of your machine. If these directories do not exist, the package attempts to create them. The <code>outdir</code> cannot be equal to the <code>tmpdir</code> argument. All downloaded resources will be written to their respective directories within <code>outdir</code>. We will set the <code>{terra}</code>’s package temporal directory to directory within <code>tmpdir</code> and also any intermediate files during the calculation of an indicator will be written there. Thus, please ensure that you have write access to these directories and that there is sufficient free disk space to support the analysis of your portfolio.</p>
<p>In case your share a common <code>outdir</code> across different portfolios, with the <code>add_resources</code> arguments controls the behavior of the portfolio initialization. If set to <code>TRUE</code>, the function will automatically search for all available resources and add these as attributes to the portfolio, without further checking if these resources actually match its spatio-temporal extent. Only use this if you are sure that for your current portfolio, all resources have been previously downloaded. If set to <code>FALSE</code>, no pre-existing resources will be added to the portfolio. Once you request a specific portfolio for your resources, only those files will be downloaded that are missing in <code>outdir</code>. This behavior is beneficial if you share the <code>outdir</code> between different projects to ensure that only matching resources are returned.</p>
<p>The argument <code>cores</code> specifies the number of CPU cores available to the indicator routines for parallel processing. Parallel processing is deactivated on Windows by default. If you use another operating system you may set to a value greater 1 if you wish to activate parallel processing.</p>
<p>Finally, the <code>verbose</code> logical controls whether or not the package will print informative messages during the calculations. Note, that even if set to <code>FALSE</code>, the package will inform users about any potential error in specifying of arguments in the form of warnings and errors.</p>
</div>
<div id="getting-the-right-resources" class="section level1">
<h1>Getting the right resources</h1>
<p>You can check which indicators are available via the <code>available_indicators()</code> function. For this, we inspect the names of the returned object:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(<span class="fu">available_indicators</span>())</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] &quot;accessibility&quot;     &quot;biome&quot;             &quot;chirpsprec&quot;       </span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [4] &quot;drought_indicator&quot; &quot;elevation&quot;         &quot;emissions&quot;        </span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [7] &quot;gmw&quot;               &quot;landcover&quot;         &quot;popcount&quot;         </span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [10] &quot;soilproperties&quot;    &quot;teow&quot;              &quot;treecover&quot;        </span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [13] &quot;treeloss&quot;          &quot;tri&quot;               &quot;wcprec&quot;           </span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [16] &quot;wctmax&quot;            &quot;wctmin&quot;</span></span></code></pre></div>
<p>Say, we are interested in the precipitation indicator based on the CHIRPS dataset. We can learn more about this indicator and its required resources by using either of the commands below or, if you are viewing the online version, head over to the <a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/chirpsprec.html">chirpsprec</a> documentation.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>?chirpsprec</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">help</span>(chirpsprec)</span></code></pre></div>
<p>By inspecting the help page we learned that this indicator requires the <code>chirps</code> resource and it accepts three arguments, namely the <code>scales_spi</code>, <code>spi_prev_years</code> and <code>engine</code> arguments. <code>scales_spi</code> determines the time-scale for the calculation of the Standardized-Precipitation-Index (SPI), while <code>spi_prev_years</code> indicates how many previous years are included in the fitting process. The <code>engine</code> argument controls how zonal statistics for each asset in the portfolio is extracted.</p>
<p>With that information at hand, we can start to retrieve the required resource. We can learn about all available resources using the <code>available_resources()</code> function:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(<span class="fu">available_resources</span>())</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] &quot;chirps&quot;         &quot;ecoregions&quot;     &quot;esalandcover&quot;   &quot;greenhouse&quot;    </span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [5] &quot;lossyear&quot;       &quot;mangrove&quot;       &quot;maxtemperature&quot; &quot;mintemperature&quot;</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [9] &quot;nasagrace&quot;      &quot;precipitation&quot;  &quot;soilgrids&quot;      &quot;srtmdem&quot;       </span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [13] &quot;traveltime&quot;     &quot;treecover2000&quot;  &quot;worldpop&quot;</span></span></code></pre></div>
<p>For the purpose of this vignette, we are going to download the <code>chirps</code> resource. We can get more detailed information about a given resource, by using either of the commands below to open up the help page. If you are viewing the online version of this documentation, you can simply head over to the <a href="https://mapme-initiative.github.io/mapme.biodiversity/reference/chirps.html">chirps</a> resource documentation.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>?chirps</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">help</span>(chirps)</span></code></pre></div>
<p>We can now make the <code>chirps</code> resource available for our portfolio. We will use a common interface that is used for all resources, called <code>get_resources()</code>. We have to specify our portfolio object and the names of the resource(s) we wish to download. Additional arguments for the specific resource can be specified. The output of the function is the portfolio object with its attributes appended for the new resource, thus we simply can overwrite the <code>sample_portfolio</code> variable.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>sample_portfolio <span class="ot">&lt;-</span> <span class="fu">get_resources</span>(<span class="at">x =</span> sample_portfolio, <span class="at">resources =</span> <span class="st">&quot;chirps&quot;</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Starting process to download resource &#39;chirps&#39;........</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Skipping existing files in output directory.</span></span></code></pre></div>
<p>In case you want to download more than one resource, you can use the same interface and the resources will be made available sequentially. Required arguments for a resource are simply added as usual:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>sample_portfolio <span class="ot">&lt;-</span> <span class="fu">get_resources</span>(<span class="at">x =</span> sample_portfolio, </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">resources =</span> <span class="fu">c</span>(<span class="st">&quot;chirps&quot;</span>, <span class="st">&quot;treecover2000&quot;</span>),</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">vers_treecover =</span> <span class="st">&quot;GFC-2020-v1.8&quot;</span>)</span></code></pre></div>
</div>
<div id="calculate-specific-indicators" class="section level1">
<h1>Calculate specific indicators</h1>
<p>The next step consists of calculating specific indicators. Note, that each indicator requires one or more resources that were made available via the <code>get_resources()</code> function explained above. Here, we are going to calculate the <code>chirpsprec</code> indicator which is based on the <code>chirps</code> resource. Since the resource has been made available in the previous step, we can continue requesting the calculation of our desired indicator. Note, the below command would issue an error in case a required resource has not been made available via <code>get_resources()</code> beforehand.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>sample_portfolio <span class="ot">&lt;-</span> <span class="fu">calc_indicators</span>(sample_portfolio,</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">indicators =</span> <span class="st">&quot;chirpsprec&quot;</span>,</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">scales_spi =</span> <span class="dv">3</span>,</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">spi_prev_years =</span> <span class="dv">8</span>,</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">engine =</span> <span class="st">&quot;extract&quot;</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>The function call will inform us that we have not specified the two required arguments but that the default values have been inserted. If you get such a message for other indicators and you do not know what they mean, head over to the indicator help-page to learn about the available arguments.</p>
<p>Now let’s take a look at the results. We will select only some of the metadata and the output indicator column to get a clearer picture of what has happened.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>(sample_portfolio <span class="ot">&lt;-</span> sample_portfolio <span class="sc">%&gt;%</span> <span class="fu">select</span>(.assetid, WDPAID, chirpsprec))</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Simple feature collection with 20 features and 3 fields</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Geometry type: POLYGON</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Dimension:     XY</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Bounding box:  xmin: -71.80933 ymin: 18.57668 xmax: -71.33201 ymax: 18.69931</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 20 × 4</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    .assetid WDPAID chirpsprec                                               geom</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       &lt;int&gt;  &lt;dbl&gt; &lt;list&gt;                                          &lt;POLYGON [°]&gt;</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1        1 478140 &lt;tibble [12 × 4]&gt; ((-71.78546 18.658, -71.78546 18.67313, -7…</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2        2 478140 &lt;tibble [12 × 4]&gt; ((-71.80292 18.68321, -71.78546 18.67313, …</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3        3 478140 &lt;tibble [12 × 4]&gt; ((-71.76134 18.66333, -71.76067 18.66267, …</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4        4 478140 &lt;tibble [12 × 4]&gt; ((-71.7616 18.69374, -71.7616 18.68691, -7…</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5        5 478140 &lt;tibble [12 × 4]&gt; ((-71.73417 18.64352, -71.71386 18.63179, …</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6        6 478140 &lt;tibble [12 × 4]&gt; ((-71.66801 18.63288, -71.69 18.64557, -71…</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7        7 478140 &lt;tibble [12 × 4]&gt; ((-71.71386 18.68865, -71.71386 18.68691, …</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8        8 478140 &lt;tibble [12 × 4]&gt; ((-71.65801 18.68222, -71.66613 18.68691, …</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9        9 478140 &lt;tibble [12 × 4]&gt; ((-71.66613 18.63079, -71.66613 18.62665, …</span></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10       10 478140 &lt;tibble [12 × 4]&gt; ((-71.63562 18.67697, -71.64227 18.67313, …</span></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11       11 478140 &lt;tibble [12 × 4]&gt; ((-71.59453 18.66749, -71.59453 18.64815, …</span></span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12       12 478140 &lt;tibble [12 × 4]&gt; ((-71.52294 18.61972, -71.52294 18.63179, …</span></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 13       13 478140 &lt;tibble [12 × 4]&gt; ((-71.54943 18.67465, -71.5468 18.67313, -…</span></span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 14       14 478140 &lt;tibble [12 × 4]&gt; ((-71.49535 18.64342, -71.49907 18.64557, …</span></span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 15       15 478140 &lt;tibble [12 × 4]&gt; ((-71.46559 18.63735, -71.4752 18.63179, -…</span></span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 16       16 478140 &lt;tibble [12 × 4]&gt; ((-71.43534 18.63634, -71.43264 18.63478, …</span></span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 17       17 478140 &lt;tibble [12 × 4]&gt; ((-71.42747 18.62066, -71.42747 18.60424, …</span></span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 18       18 478140 &lt;tibble [12 × 4]&gt; ((-71.35587 18.582, -71.35587 18.59046, -7…</span></span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 19       19 478140 &lt;tibble [12 × 4]&gt; ((-71.37974 18.61442, -71.37974 18.60424, …</span></span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 20       20 478140 &lt;tibble [12 × 4]&gt; ((-71.34017 18.59953, -71.35587 18.59046, …</span></span></code></pre></div>
<p>We obtained a new listed column in our sf object that is called like the requested indicator. For each asset in our portfolio, this column contains a tibble with 12 rows and 4 columns. Let’s have a closer look at these objects.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>sample_portfolio<span class="sc">$</span>chirpsprec[<span class="dv">10</span>]</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 12 × 4</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    dates      absolute anomaly   spi_3</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;date&gt;        &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 2010-01-01       22   8.43  -0.256 </span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 2010-02-01       26   0.700  1.02  </span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 2010-03-01       45  -9      0.605 </span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 2010-04-01      165  41.6    0.412 </span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 2010-05-01      200 -20.7    0.108 </span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 2010-06-01      227 110      0.815 </span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 2010-07-01      159  75.8   NA     </span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 2010-08-01      100 -18.5    1.60  </span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 2010-09-01      111 -65.3   -0.0640</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 2010-10-01      105 -53.4   -1.05  </span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11 2010-11-01      130  32.9   -0.309 </span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12 2010-12-01        8  -2.1    0.287</span></span></code></pre></div>
<p>For each asset, the result is a tibble in long format for 12 months in the year 2010. The precipitation indicator with the default setting delivered the absolute rainfall sum as well as the rainfall anomaly compared to the 1981-2010 climate normal period (make sure to read the detailed indicator documentation via <code>?chirpsprec</code>). Let’s quickly visualize the results for a single asset:</p>
<p><img src="data:image/png;base64,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" /><!-- --><img src="data:image/png;base64,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" /><!-- --><img src="data:image/png;base64,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" /><!-- --></p>
<p>If you wish to conduct your statistical analysis in R, you can use <code>{tidyr}</code> functionality to unnest one or multiple columns. Especially for large portfolios, it is usually a good idea to keep the geometry information in a separated variable to keep the size of the data object relatively small.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>geometries <span class="ot">&lt;-</span> <span class="fu">select</span>(sample_portfolio, .assetid)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>sample_portfolio <span class="sc">%&gt;%</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_drop_geometry</span>() <span class="sc">%&gt;%</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">unnest</span>(chirpsprec) <span class="sc">%&gt;%</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(.assetid <span class="sc">==</span> <span class="dv">3</span>)</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 12 × 6</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    .assetid WDPAID dates      absolute anomaly   spi_3</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       &lt;int&gt;  &lt;dbl&gt; &lt;date&gt;        &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1        3 478140 2010-01-01       13    4.93 -0.407 </span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2        3 478140 2010-02-01       16    1.93  1.15  </span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3        3 478140 2010-03-01       27   -7.53  0.682 </span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4        3 478140 2010-04-01      129   32.2   0.523 </span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5        3 478140 2010-05-01      159  -10.3   0.169 </span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6        3 478140 2010-06-01      170   78     0.842 </span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7        3 478140 2010-07-01      139   64.6  NA     </span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8        3 478140 2010-08-01       98   -3.67  1.78  </span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9        3 478140 2010-09-01      100  -38.6   0.376 </span></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10        3 478140 2010-10-01      104  -35.6  -0.762 </span></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11        3 478140 2010-11-01      101   26.8  -0.0646</span></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12        3 478140 2010-12-01        7   -1.03  0.337</span></span></code></pre></div>
</div>
<div id="exporting-an-portfolio-object" class="section level1">
<h1>Exporting an portfolio object</h1>
<p>You can use the <code>write_portfolio()</code> function to save a processed portfolio object to disk as a GeoPackage. This allows sharing your data with others who might not be using R, but any other geospatial software. Simply point towards a non-existing file on your local disk to write the portfolio. The function will create an individual table for all processed indicators. Via the <code>read_portfolio()</code> function, a portfolio which has been written to disk in such a way can be read back into R. However, users should note that the portfolio-wide arguments that were set during the portfolio initialization are <strong>not</strong> reconstructed (e.g. the temporal extent, <code>outdir</code> and <code>tmpdir</code>, etc.). Thus if you wish to continue to use <code>{mapme.biodiversity}</code> functionality on such a portfolio object, make sure to re-run <code>init_portfolio()</code> on it.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>tmp_output <span class="ot">&lt;-</span> <span class="fu">tempfile</span>(<span class="at">fileext =</span> <span class="st">&quot;.gpkg&quot;</span>)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write_portfolio</span>(</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> sample_portfolio,</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">dsn =</span> tmp_output</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Writing layer `metadata&#39; to data source </span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   `/tmp/RtmpLNZTZB/file471b20a94ae5.gpkg&#39; using driver `GPKG&#39;</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Writing 20 features with 2 fields and geometry type Polygon.</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Updating layer `chirpsprec&#39; to data source `/tmp/RtmpLNZTZB/file471b20a94ae5.gpkg&#39; using driver `GPKG&#39;</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Writing 240 features with 5 fields without geometries.</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>(portfolio_from_disk <span class="ot">&lt;-</span> <span class="fu">read_portfolio</span>(tmp_output))</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Simple feature collection with 20 features and 3 fields</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Geometry type: POLYGON</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Dimension:     XY</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Bounding box:  xmin: -71.80933 ymin: 18.57668 xmax: -71.33201 ymax: 18.69931</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 20 × 4</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    .assetid WDPAID chirpsprec                                               geom</span></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       &lt;int&gt;  &lt;dbl&gt; &lt;list&gt;                                          &lt;POLYGON [°]&gt;</span></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1        1 478140 &lt;tibble [12 × 4]&gt; ((-71.78546 18.658, -71.78546 18.67313, -7…</span></span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2        2 478140 &lt;tibble [12 × 4]&gt; ((-71.80292 18.68321, -71.78546 18.67313, …</span></span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3        3 478140 &lt;tibble [12 × 4]&gt; ((-71.76134 18.66333, -71.76067 18.66267, …</span></span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4        4 478140 &lt;tibble [12 × 4]&gt; ((-71.7616 18.69374, -71.7616 18.68691, -7…</span></span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5        5 478140 &lt;tibble [12 × 4]&gt; ((-71.73417 18.64352, -71.71386 18.63179, …</span></span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6        6 478140 &lt;tibble [12 × 4]&gt; ((-71.66801 18.63288, -71.69 18.64557, -71…</span></span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7        7 478140 &lt;tibble [12 × 4]&gt; ((-71.71386 18.68865, -71.71386 18.68691, …</span></span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8        8 478140 &lt;tibble [12 × 4]&gt; ((-71.65801 18.68222, -71.66613 18.68691, …</span></span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9        9 478140 &lt;tibble [12 × 4]&gt; ((-71.66613 18.63079, -71.66613 18.62665, …</span></span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10       10 478140 &lt;tibble [12 × 4]&gt; ((-71.63562 18.67697, -71.64227 18.67313, …</span></span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11       11 478140 &lt;tibble [12 × 4]&gt; ((-71.59453 18.66749, -71.59453 18.64815, …</span></span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12       12 478140 &lt;tibble [12 × 4]&gt; ((-71.52294 18.61972, -71.52294 18.63179, …</span></span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 13       13 478140 &lt;tibble [12 × 4]&gt; ((-71.54943 18.67465, -71.5468 18.67313, -…</span></span>
<span id="cb15-33"><a href="#cb15-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 14       14 478140 &lt;tibble [12 × 4]&gt; ((-71.49535 18.64342, -71.49907 18.64557, …</span></span>
<span id="cb15-34"><a href="#cb15-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 15       15 478140 &lt;tibble [12 × 4]&gt; ((-71.46559 18.63735, -71.4752 18.63179, -…</span></span>
<span id="cb15-35"><a href="#cb15-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 16       16 478140 &lt;tibble [12 × 4]&gt; ((-71.43534 18.63634, -71.43264 18.63478, …</span></span>
<span id="cb15-36"><a href="#cb15-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 17       17 478140 &lt;tibble [12 × 4]&gt; ((-71.42747 18.62066, -71.42747 18.60424, …</span></span>
<span id="cb15-37"><a href="#cb15-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 18       18 478140 &lt;tibble [12 × 4]&gt; ((-71.35587 18.582, -71.35587 18.59046, -7…</span></span>
<span id="cb15-38"><a href="#cb15-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 19       19 478140 &lt;tibble [12 × 4]&gt; ((-71.37974 18.61442, -71.37974 18.60424, …</span></span>
<span id="cb15-39"><a href="#cb15-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 20       20 478140 &lt;tibble [12 × 4]&gt; ((-71.34017 18.59953, -71.35587 18.59046, …</span></span></code></pre></div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
